<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ossirytk.github.io/llama-cpp-chat-memory/named_entity_recognition/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Named Entity Recognition(NER) - Llama.cpp chat</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Named Entity Recognition(NER)";
        var mkdocs_page_input_path = "named_entity_recognition.md";
        var mkdocs_page_url = "/llama-cpp-chat-memory/named_entity_recognition/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Llama.cpp chat
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Quickstart</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../getting_started/">Getting started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../prompt_support/">Prompt Support</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../card_format/">Card Format</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../configs/">Configs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../preparing_the_env/">Preparing the env</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">The chatbot</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../running_the_env/">Running the env</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../running_the_chatbot/">Running the chatbot</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Working with documents</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../webscraping/">Webscraping</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Named Entity Recognition(NER)</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../creating_embeddings/">Creating embeddings</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Extras</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../examples/">Some Examples</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../UNLICENSE/">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Llama.cpp chat</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Working with documents</li>
      <li class="breadcrumb-item active">Named Entity Recognition(NER)</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ossirytk/llama-cpp-chat-memory/edit/master/docs/named_entity_recognition.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h3 id="named-entity-recognitionner">Named Entity Recognition(NER)</h3>
<p>You can use textacy_parsing script for generating document metadata keys automatically. The scripts are a modified version of textacy code updated to run with the current spacy version. The script uses a spacy embeddings model to process a text document for a json metadata keyfile. The keys are parsed based on a config file in run_files/parse_configs/ner_types.json or run_files/parse_configs/ner_types_full.json. You can give your own config file if you want.</p>
<p><strong>The new parse script uses multiprocess to improve performance. The default process pool number is 6. You should change the process number based on the number of cores your machine has.</strong></p>
<p>The available configs are</p>
<table>
<thead>
<tr>
<th>Ngrams</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PROPN</td>
<td>Proper Noun</td>
</tr>
<tr>
<td>NOUN</td>
<td>Noun</td>
</tr>
<tr>
<td>ADJ</td>
<td>Adjective</td>
</tr>
<tr>
<td>NNP</td>
<td>Noun proper singular</td>
</tr>
<tr>
<td>NN</td>
<td>Noun, singular or mass</td>
</tr>
<tr>
<td>AUX</td>
<td>Auxiliary</td>
</tr>
<tr>
<td>VBZ</td>
<td>Verb, 3rd person singular present</td>
</tr>
<tr>
<td>VERB</td>
<td>Verb</td>
</tr>
<tr>
<td>ADP</td>
<td>Adposition</td>
</tr>
<tr>
<td>SYM</td>
<td>Symbol</td>
</tr>
<tr>
<td>NUM</td>
<td>Numeral</td>
</tr>
<tr>
<td>CD</td>
<td>Cardinal number</td>
</tr>
<tr>
<td>VBG</td>
<td>verb, gerund or present participle</td>
</tr>
<tr>
<td>ROOT</td>
<td>Root</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Entities</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>FAC</td>
<td>Buildings, airports, highways, bridges, etc.</td>
</tr>
<tr>
<td>NORP</td>
<td>Nationalities or religious or political groups</td>
</tr>
<tr>
<td>GPE</td>
<td>Countries, cities, states</td>
</tr>
<tr>
<td>PRODUCT</td>
<td>Objects, vehicles, foods, etc. (not services)</td>
</tr>
<tr>
<td>EVENT</td>
<td>Named hurricanes, battles, wars, sports events, etc.</td>
</tr>
<tr>
<td>PERSON</td>
<td>People, including fictional</td>
</tr>
<tr>
<td>ORG</td>
<td>Companies, agencies, institutions, etc.</td>
</tr>
<tr>
<td>LOC</td>
<td>Non-GPE locations, mountain ranges, bodies of water</td>
</tr>
<tr>
<td>DATE</td>
<td>Absolute or relative dates or periods</td>
</tr>
<tr>
<td>TIME</td>
<td>Times smaller than a day</td>
</tr>
<tr>
<td>WORK_OF_ART</td>
<td>Titles of books, songs, etc.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Extract type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>orth</td>
<td>Terms are represented by their text exactly as written</td>
</tr>
<tr>
<td>lower</td>
<td>Lowercased form of the text</td>
</tr>
<tr>
<td>lemma</td>
<td>Base form w/o inflectional suffixes</td>
</tr>
</tbody>
</table>
<p>For details see <a href="https://spacy.io/usage/linguistic-features">Spacy linguistic features</a> and <a href="https://spacy.io/models/en">Model NER labels</a>. The instructions expect en model, but spacy supports a wide range of models. You can also specify Noun chunks. Noun chunk of 2 for example would create keys like "Yellow House" or "Blond Hair".</p>
<p>You can create ner metadata list with</p>
<pre><code>python -m document_parsing.parse_ner
</code></pre>
<table>
<thead>
<tr>
<th>Optional param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>--data-directory</td>
<td>The directory where your text files are stored. Default "./run_files/documents/skynet"</td>
</tr>
<tr>
<td>--collection-name</td>
<td>The name of the collection Will be used as name and location for the keyfile. Default "skynet"</td>
</tr>
<tr>
<td>--key-storage</td>
<td>The directory for the collection metadata keys. Default "./run_files/key_storage/"</td>
</tr>
<tr>
<td>--threads</td>
<td>The number of multiprocess threads. Default 6.</td>
</tr>
</tbody>
</table>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../webscraping/" class="btn btn-neutral float-left" title="Webscraping"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../creating_embeddings/" class="btn btn-neutral float-right" title="Creating embeddings">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ossirytk/llama-cpp-chat-memory" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../webscraping/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../creating_embeddings/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
